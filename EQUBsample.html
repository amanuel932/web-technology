<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digital Equb</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="css/bootstrap.min.css">
</head>
<body>

  <style>
   body {
      background-image: url('logo.png');
    }
    form {
     background-color: antiquewhite;
      
    }
    #submit_btn {
      background-color: gray;
    }
    #winner_btn {
      
      background-color: gray; 
    }
    </style> 
   
    <header class="m-3 ">
        <nav class="navbar navbar-expand-lg bg-body-tertiary">
            <div class="container-fluid">
              <a class="navbar-brand" href="#">Habesha Equb</a>
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
              </button>
              </div>
              </nav>
              </header>

  
</div>
    <div class="container card col-12">
        <div class="row">
          <div class="col-md-6">
            <h2>-----Register here-----</h2>
            <form class="form_class">
              <div class="form-group">
                <label for="fullname">full name :</label>
                <span id="error_MsgName" class="error_Msg"></span>
                <input type="text" class="form-control" id="fullname" placeholder="enter the name ">
              </div>
              <div class="form-group">
                <label for="age">age :</label>
                <span id="error_MsgAge" class="error_Msg"></span>
                <input type="age" class="form-control" id="age" placeholder="enter the age">
              </div>
              <div class="form-group">
                <label for="phone">phone no:</label>
                <span class="error_Msg" id="error_MsgPhone"></span>
                <input type="phone" class="form-control" id="phone" placeholder="enter phone no">
              </div>
              <div class="form-group">
                <label for="address">address:</label>
                <span class="error_Msg" id="error_MsgAddress"></span>
                <input class="form-control" id="address" type="address" placeholder="enter the address"></input>
              </div>
              <div class="form-group mt-3">
                <label for="amount">amount:</label>
              <span class="error_Msg" id="error_MsgAmount"></span>
               
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="customAmountCheck">
                    <label class="form-check-label" for="customAmountCheck">self Register</label>
                  </div>
                <input type="number" class="form-control mt-2" id="customAmountInput" placeholder="enter the amount"
                  >
              </div>
              <button type="button" id="submit_btn"  class="btn btn-primary mt-2 mb-3">Register</button>
            </form>
          </div>
          <div class="col-md-6">
            <div class="justify-content-center align-items-center">
                <h2>log</h2>
            </div>
            <br>
            <div class="table_container card-body">
                <table id="users_Table" class="table">
                    <thead class="thead">
                        <tr>
                            <th>name</th>
                            <th>age</th>
                            <th>phone</th>
                            <th>address</th>
                            <th>amount</th>
                        </tr>
                    </thead>
                    <tbody class="tbody">

                    </tbody>
                </table>
            </div>
            <h2>winner</h2>
            <div id="winner" class="card">
              <div class="card-body">
                <h5 class="card-title" id="winner_Name"></h5>
                <p class="card-text" id="winner_Amount"></p>
              </div>
            </div>
            <button type="button" id="winner_btn" class="btn btn-primary mt-2 mb-3">chooose</button>
          </div>
        </div>
      </div>

      <script>
let users = []
let total_Amount = 0
console.log('JavaScript connected')
let submit = document.getElementById('submit_btn')
submit.addEventListener('click', user_Info)


function user_Info() {
    let full_Name = document.getElementById('fullname').value
    let age = document.getElementById('age').value
    let phone_no = document.getElementById('phone').value
    let address = document.getElementById('address').value
    let amount = document.getElementById('customAmountInput').value

total_Amount += Number(amount)
if (full_Name === '' || /\d/.test(full_Name)){
    let error_MsgName = document.getElementById('error_MsgName')
    error_MsgName.innerHTML = 'please enter the right name'
} else if (age < 18 || age == '') {

    let error_MsgAge = document.getElementById('error_MsgAge')
    error_MsgAge.innerHTML = 'only above 18'
} else if (phone_no === '' || phone_no.length < 9){
    let error_MsgPhone = document.getElementById('error_MsgPhone')
    error_MsgPhone.innerHTML = 'please enter the right no'
} else if (address == '' ){
    let error_MsgAddress = document.getElementById('error_MsgAddress')
    error_MsgAddress.innerHTML = 'please enter the right address'
} else if (amount == ''){
    let error_MsgAmount = document.getElementById('error_MsgAmount')
    error_MsgAmount.innerHTML = 'please enter the right amount '
} else {


error_MsgName.textContent = ''
error_MsgAge.textContent = ''
error_MsgPhone.textContent = ''
error_MsgAddress.textContent = ''
error_MsgAmount.textContent = ''


    let C_full_Name = document.getElementById('fullname')
    let C_age = document.getElementById('age')
    let C_phone_no = document.getElementById('phone')
    let C_address = document.getElementById('address')
    let C_amount = document.getElementById('customAmountInput')

let user = {
    full_Name : full_Name,
    age : age,
    phone_no : phone_no,
    address : address,
    amount : amount
}
 users.push(user)
let table = document.getElementById('users_Table')
let tbody = document.getElementsByTagName('tbody')[0]
let row = tbody.insertRow();
let full_Name_Cell = row.insertCell();
let age_Cell = row.insertCell();
let phone_no_Cell = row.insertCell();
let address_Cell = row.insertCell();
let amount_Cell = row.insertCell();


full_Name_Cell.innerHTML = full_Name
age_Cell.innerHTML = age
phone_no_Cell.innerHTML = phone_no
address_Cell.innerHTML = address
amount_Cell.innerHTML = amount

C_full_Name.value = ''
C_age.value = ''
C_phone_no.value = ''
C_address.value = ''
C_amount.value = ''
}}
let winner_Btn = document.getElementById('winner_btn')
winner_Btn.addEventListener('click',winner)

let winners_History = []  
let new_User = new Object()


function winner() {
   let winner_Name = document.getElementById('winner_Name')
    let count_User = 0;
    for ( user in users){
        count_User++
    }
   if (count_User >= 2){
        let rand = Math.floor(Math.random()*users.length)
        console.log(rand)
        let winner_User = users[rand].full_Name
        if (winners_History.includes(winner_User)){
            winner()
        } else if (winners_History.length == users.length) {
            alert('all the group memebers are addressed')
        }
        else {
        winner_Name.innerHTML = 'congratulation ' + winner_User + ' total amount  '+ total_Amount +'  !'
        winners_History.push(winner_User)
        } 
   }
   else {
        alert('minimum 2 person !')    
   }
}
      </script>
    
</body>
    <script src="js/bootstrap.min.js"></script>
    <script src="script.js"></script>
    
</html>
